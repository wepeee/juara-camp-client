{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Belajar/belajar-nodejs/latihan7/client/app/lib/configAxios.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst URI = process.env.NEXT_PUBLIC_DB_URL;\r\n\r\nexport const axiosInstance = axios.create({\r\n  baseURL: URI,\r\n});\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM;AAEC,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACxC,SAAS;AACX"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file://E%3A/Belajar/belajar-nodejs/latihan7/client/app/component/user/UserDashboard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { axiosInstance } from \"@/app/lib/configAxios\";\r\nimport axios from \"axios\";\r\nimport Link from \"next/link\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { FaShoppingCart } from \"react-icons/fa\";\r\n\r\nLink;\r\n\r\ninterface Kelas {\r\n  _id: string;\r\n  title: string;\r\n  description: string;\r\n  price: number;\r\n  imageLink: string;\r\n}\r\n\r\nconst UserDashboard = () => {\r\n  const [user, setUser] = useState(\"\");\r\n  const [kelas, setKelas] = useState<Kelas[]>([]);\r\n\r\n  const getUser = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      console.error(\"Token tidak ditemukan, silakan login kembali.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n      setUser(decoded.username);\r\n    } catch (error) {\r\n      console.error(\"Token tidak valid:\", error);\r\n    }\r\n  };\r\n\r\n  const getKelas = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        console.error(\"Token tidak ditemukan, silakan login kembali.\");\r\n        return;\r\n      }\r\n      const respond = await axiosInstance.get(\"/api/kelas\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      console.log(respond.data.payload);\r\n      setKelas(respond.data.payload);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const buyHandler = async (idKelas: any) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) {\r\n        console.error(\"Token tidak ditemukan, silakan login kembali.\");\r\n        return;\r\n      }\r\n      const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n      const respond = await axiosInstance.post(\r\n        \"/api/user/kelas\",\r\n        {\r\n          kelasId: idKelas,\r\n          id: decoded.id,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      alert(\"kelas dibeli !\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n    getKelas();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"min-h-screen bg-gray-100 justify-center w-full p-5\">\r\n        <div className=\"flex bg-gray-400 w-fit p-3 rounded-md\">\r\n          <FaShoppingCart className=\"text-2xl text-gray-700 mr-3\" />\r\n          <Link href=\"/dashboard/yourclass\">your class</Link>\r\n        </div>\r\n\r\n        <div className=\"bg-white p-8 rounded-lg shadow-lg w-[95%] mt-5 mx-auto\">\r\n          <h1 className=\"text-2xl font-bold mb-4\">Welcome, {user}!</h1>\r\n          <div>\r\n            {kelas.length > 0 ? (\r\n              kelas.map((item) => (\r\n                <div\r\n                  key={item._id}\r\n                  className=\"p-4 border rounded-md mb-2 shadow-sm\"\r\n                >\r\n                  <h2 className=\"text-xl font-semibold\">{item.title}</h2>\r\n                  <p>{item.description}</p>\r\n                  <p className=\"text-green-500 font-bold\">Rp {item.price}</p>\r\n                  <img\r\n                    src={item.imageLink}\r\n                    alt={item.title}\r\n                    className=\"w-40 h-24 object-cover\"\r\n                  />\r\n                  <button\r\n                    className=\"bg-green-400 px-4 py-1 rounded-md mt-3\"\r\n                    onClick={() => buyHandler(item._id)}\r\n                  >\r\n                    buy\r\n                  </button>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p>Loading kelas...</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAQA,4JAAA,CAAA,UAAI;AAUJ,MAAM,gBAAgB;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAE9C,MAAM,UAAU;QACd,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,CAAC,OAAO;YACV,QAAQ,KAAK,CAAC;YACd;QACF;QAEA,IAAI;YACF,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;YACnD,QAAQ,QAAQ,QAAQ;QAC1B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;QACtC;IACF;IAEA,MAAM,WAAW;QACf,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,QAAQ,KAAK,CAAC;gBACd;YACF;YACA,MAAM,UAAU,MAAM,0HAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,cAAc;gBACpD,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAEA,QAAQ,GAAG,CAAC,QAAQ,IAAI,CAAC,OAAO;YAChC,SAAS,QAAQ,IAAI,CAAC,OAAO;QAC/B,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;gBACV,QAAQ,KAAK,CAAC;gBACd;YACF;YACA,MAAM,UAAU,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;YACnD,MAAM,UAAU,MAAM,0HAAA,CAAA,gBAAa,CAAC,IAAI,CACtC,mBACA;gBACE,SAAS;gBACT,IAAI,QAAQ,EAAE;YAChB,GACA;gBACE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YAGF,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC;QACd;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;QACA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,8IAAA,CAAA,iBAAc;4BAAC,WAAU;;;;;;sCAC1B,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAuB;;;;;;;;;;;;8BAGpC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;;gCAA0B;gCAAU;gCAAK;;;;;;;sCACvD,8OAAC;sCACE,MAAM,MAAM,GAAG,IACd,MAAM,GAAG,CAAC,CAAC,qBACT,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC;4CAAG,WAAU;sDAAyB,KAAK,KAAK;;;;;;sDACjD,8OAAC;sDAAG,KAAK,WAAW;;;;;;sDACpB,8OAAC;4CAAE,WAAU;;gDAA2B;gDAAI,KAAK,KAAK;;;;;;;sDACtD,8OAAC;4CACC,KAAK,KAAK,SAAS;4CACnB,KAAK,KAAK,KAAK;4CACf,WAAU;;;;;;sDAEZ,8OAAC;4CACC,WAAU;4CACV,SAAS,IAAM,WAAW,KAAK,GAAG;sDACnC;;;;;;;mCAdI,KAAK,GAAG;;;;0DAoBjB,8OAAC;0CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjB;uCAEe"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}